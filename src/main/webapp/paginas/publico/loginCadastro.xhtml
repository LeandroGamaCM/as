<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>PAAE - Cadastro</title>
        <h:outputStylesheet library="css" name="estiloCadastroUser.css" />
        <h:outputStylesheet library="css" name="temaPrimefaces.css" />
        <h:outputStylesheet library="css" name="estiloLogin.css" />
        <h:outputScript library="js" name="validar.js" />
        <h:outputScript library="js" name="vanilla-masker.min.js" />
        <h:outputScript library="js" name="preloader.js" />
    </h:head>
    <h:body onload="removerClass5()" class="login-body">
        <div id="scriptC" class="login-panel ui-fluid cadastro layout">
            <div class="login-panel-header">
                <h1><h:graphicImage library="imagens" name="logoIFBA150px.png"/></h1>
            </div>
            <div class="login-panel-content" style="padding: 0 40px 0 40px">
                <h:form id="formCadastro" prependId="false">
                    <p:outputPanel id="cadastro" rendered="#{loginBean.cadastro}">
                        <div class="ui-g">
                            <div class="ui-g-12">
                                <h2 class="form-signin-heading"><h:graphicImage library="imagens" name="cadastroPaae.png"/></h2>
                            </div>
                            <div class="ui-g-12">
                                <span class="md-inputfield">
                                    <p:inputText value="#{loginBean.nomePagina}" id="inputNome" onkeypress="return letras(event)" autocomplete="off" class="ui-inputfield ui-inputtext ui-widget ui-state-default ui-corner-all" onchange="this.value ? this.classList.add('ui-state-filled') : this.classList.remove('ui-state-filled')"/> 
                                    <p:outputLabel>Nome Completo</p:outputLabel>
                                </span>
                            </div>
                            <div class="ui-g-12">
                                <span class="md-inputfield">
                                    <p:inputText value="#{loginBean.cpfPagina}" id="inputCPF" autocomplete="off" class="ui-inputfield ui-inputtext ui-widget ui-state-default ui-corner-all" onchange="this.value ? this.classList.add('ui-state-filled') : this.classList.remove('ui-state-filled')"/> 
                                    <p:outputLabel>CPF</p:outputLabel>
                                </span>
                            </div>
                            <div class="ui-g-12">
                                <span class="md-inputfield">
                                    <p:inputText value="#{loginBean.emailPagina}" id="inputEmail" autocomplete="off" class="ui-inputfield ui-inputtext ui-widget ui-state-default ui-corner-all" onchange="this.value ? this.classList.add('ui-state-filled') : this.classList.remove('ui-state-filled')"/> 
                                    <p:outputLabel>Email</p:outputLabel>
                                </span>
                            </div>
                            <div class="ui-g-6">
                                <span class="md-inputfield">
                                    <p:password id="inputSenha" value="#{loginBean.senhaPagina}" autocomplete="off" class="ui-inputfield ui-inputtext ui-widget ui-state-default ui-corner-all" onchange="this.value ? this.classList.add('ui-state-filled') : this.classList.remove('ui-state-filled')"/> 
                                    <p:outputLabel>Senha</p:outputLabel>
                                </span>
                            </div>
                            <div class="ui-g-6">
                                <span class="md-inputfield">
                                    <p:password id="inputCsenha" autocomplete="off" class="ui-inputfield ui-inputtext ui-widget ui-state-default ui-corner-all" onchange="this.value ? this.classList.add('ui-state-filled') : this.classList.remove('ui-state-filled')"/> 
                                    <p:outputLabel>Confirmar Senha</p:outputLabel>
                                </span>
                            </div>
                            <div class="ui-g-12">
                                <p:commandButton icon="fa fa-check" onclick="return validar();" action="#{loginBean.enviarCodConfirmacao()}" onstart="pre('1')" update="@form" value="Cadastrar" type="submit" styleClass="ui-priority-primary" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-icon-left" style="background: #607D8B; font-weight: normal; text-shadow: 0 0 0 rgba(255,255,255,0.7)" />                            
                            </div>
                        </div>
                        <p id="aviso">Informe uma senha segura de no mínino 6 caracteres.</p>                                            
                    </p:outputPanel>
                
                    <p:outputPanel id="confirmacao" style="margin-top: 35px;" rendered="#{loginBean.confirmacao}">
                        <div class="ui-g">
                            <div class="ui-g-12">
                                <h2 class="form-signin-heading"><h:graphicImage library="imagens" name="logoPaae.png"/></h2>
                            </div>                        
                            <p id="aviso">Um código de confimação foi enviado para seu email</p>
                            <div class="ui-g-12">
                                <span class="md-inputfield">                                
                                    <p:inputText value="#{loginBean.codConfirmacaoPagina}" id="codConfirmacao" autocomplete="off" class="ui-inputfield ui-inputtext ui-widget ui-state-default ui-corner-all" onblur="this.value ? this.classList.add('ui-state-filled') : this.classList.remove('ui-state-filled')"/> 
                                    <p:outputLabel>Código de Confirmação</p:outputLabel>
                                </span>
                            </div>                       
                            <div class="ui-g-12">
                                <p:commandButton icon="fa fa-check" onclick="validarConfirma()" action="#{loginBean.salvar()}" value="Confirmar cadastro" type="submit" styleClass="ui-priority-primary" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-icon-left" style="background: #607D8B; font-weight: normal; text-shadow: 0 0 0 rgba(255,255,255,0.7)" />                            
                            </div>
                        </div>  
                    </p:outputPanel>
                </h:form>
            </div>
        </div>
        
<!--        <script type="text/javascript">            
            function inputHandler(masks, max, event) {
              var c = event.target;
              var v = c.value.replace(/\D/g, '');
              var m = c.value.length > max ? 1 : 0;
              VMasker(c).unMask();
              VMasker(c).maskPattern(masks[m]);
              c.value = VMasker.toPattern(v, masks[m]);
            }
            
            function limpaCampo(event) {
                var value = event.target.value;                
                //<![CDATA[
                    if (value.length < 14) {
                        event.target.value = '';
                        this.classList.remove('ui-state-filled');
                    }
                //]]>
            }
                      
            var docMask = ['999.999.999-99'];
            var doc = document.querySelector('#inputCPF');
            
            VMasker(doc).maskPattern(docMask[0]);
            
            doc.addEventListener('input', inputHandler.bind(undefined, docMask, 15), false);
            
            doc.addEventListener('blur', limpaCampo);
        </script> -->
<!--    <script type="text/javascript">
            var els = document.querySelectorAll(".validar");
            for(var x=0; els.length>x; x++){
               els[x].addEventListener("blur", function(){
                  if(this.value === ''){
                     this.nextSibling.outerHTML = '';
                     var alerta = document.createElement("span");
                     alerta.setAttribute("class", "avisoMSG");
                     var t = document.createTextNode(this.getAttribute("alt"));
                     alerta.appendChild(t);
                     var seta = document.createElement("em");
                     seta.setAttribute("class", "arrow-left");
                     alerta.appendChild(seta);
                     this.parentNode.insertBefore(alerta, this.nextSibling);
                  }
               });

               els[x].addEventListener("focus", function(){
                  this.nextSibling.outerHTML = '';
               });
            }
        </script>-->
       
        <noscript>
            Para completa funcionalidade deste site é necessário habilitar o JavaScript.<br/>
            Aqui estão as <a href="https://www.enable-javascript.com/pt/" target="_blank">
            instruções de como habilitar o JavaScript no seu navegador</a>.
        </noscript>
    </h:body>
</html>                 