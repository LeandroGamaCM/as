<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>PAAE - Logar</title>
        <h:outputStylesheet library="css" name="estiloCadastroUser.css" />
        <h:outputStylesheet library="css" name="temaPrimefaces.css" />
        <h:outputStylesheet library="css" name="estiloLogin.css" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/vanilla-masker/1.1.0/vanilla-masker.min.js"></script>
    </h:head>
    <h:body class="login-body">
        <div class="login-panel ui-fluid">
            <div class="login-panel-header">
                <h1><h:graphicImage library="imagens" name="logoIFBA150px.png"/></h1>
            </div>
            <div class="login-panel-content">
                <form id="login" method="post" action="#{request.contextPath}/j_spring_security_check">
                    <div class="ui-g">
                        <div class="ui-g-12">
                            <h2 class="form-signin-heading"><h:graphicImage library="imagens" name="logoPaae.png"/></h2>
                        </div>                        
                        <div class="ui-g-12">
                            <span class="md-inputfield">
                                <input type="text" id="cpfLogin" name="j_username" class="ui-inputfield ui-inputtext ui-widget ui-state-default ui-corner-all" onblur="this.value ? this.classList.add('ui-state-filled') : this.classList.remove('ui-state-filled')"/>
                                <p:outputLabel>CPF</p:outputLabel>
                            </span>
                        </div>
                        <div class="ui-g-12">
                            <span class="md-inputfield">
                                <input type="password" name="j_password" class="ui-inputfield ui-inputtext ui-widget ui-state-default ui-corner-all" onblur="this.value ? this.classList.add('ui-state-filled') : this.classList.remove('ui-state-filled')"/>
                                <p:outputLabel>Senha</p:outputLabel>
                            </span>
                        </div>                        
                        <div class="ui-g-12">
                            <input type="submit" value="Acessar" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-icon-left" style="background: #607D8B; font-weight: normal; text-shadow: 0 0 0 rgba(255,255,255,0.7)" />     
                        </div>
                    </div>
                </form>
                <p id="aviso">Informe os 11 números do CPF sem traço e a senha.</p>

                <div class="row clearfix" id="rodapeLogin">
                    <div class="col-md-12 column">
                        <p style="text-align: center;" id="aviso2"><strong><a href="#{request.contextPath}/paginas/publico/loginCadastro.jsf" class="acender">Primeiro acesso?</a>&nbsp;&nbsp; | &nbsp;&nbsp;<a href="#" class="acender">Esqueceu a senha?</a></strong><br/></p>
                    </div>
                </div>
            </div>
        </div>
       
        <script type="text/javascript">
            function inputHandler(masks, max, event) {
              var c = event.target;
              var v = c.value.replace(/\D/g, '');
              var m = c.value.length > max ? 1 : 0;
              VMasker(c).unMask();
              VMasker(c).maskPattern(masks[m]);
              c.value = VMasker.toPattern(v, masks[m]);
            }

            var docMask = ['999.999.999-99'];
            var doc = document.querySelector('#cpfLogin');
            VMasker(doc).maskPattern(docMask[0]);
            doc.addEventListener('input', inputHandler.bind(undefined, docMask, 15), false);
        </script> 
    </h:body>
</html>